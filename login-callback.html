<!-- Include Bootstrap from a CDN (Content Delivery Network) -->
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<!DOCTYPE html>
<html lang="en">
    <HEAD>
        <script src="./openidconnect.js">
        </script>

        <script>
            OIDC.restoreInfo();
            var id_token = OIDC.getValidIdToken();
            OIDC.debug(true, id_token);
            var tokenClaimsMap = JSON.parse(OIDC.getIdTokenParts(id_token)[1]);
            tokenClaimsString = '<table>';
            for (var claim in tokenClaimsMap){
               tokenClaimsString = tokenClaimsString + '\n<TR><TD>' + claim + '</TD><TD>' + tokenClaimsMap[claim] + '</TD></TR>';
            }
            tokenClaimsString = tokenClaimsString + '\n</table>';
            var userInfoClaimsMap = JSON.parse(OIDC.getUserInfo());
            userInfoClaimsString = '\n<table>';
            for (var claim in userInfoClaimsMap){
               userInfoClaimsString = userInfoClaimsString + '\n<TR><TD>' + claim + '</TD><TD>' + userInfoClaimsMap[claim] + '</TD></TR>';
            }
            userInfoClaimsString = userInfoClaimsString + '\n</table>';
            tokenClaimsString = tokenClaimsString + '\n<b>UserInfo</b>';

            function print_id_token(){
                button = '<br><button type="button" class="btn btn-danger" >Logout</button>';
                document.getElementById("id_token").innerHTML = tokenClaimsString + userInfoClaimsString + button;
            }
        </script>
    </HEAD>

    <BODY onload="print_id_token();">
      <div class="container">
        <h1>Implicit Flow Test Callback</h1>

        <b>id_token</b>
        <div id="id_token">
            id_token claims not found.
        </div>
      </div>
    </BODY>
</HTML>